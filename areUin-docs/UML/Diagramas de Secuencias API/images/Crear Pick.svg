<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1069px" preserveAspectRatio="none" style="width:1801px;height:1069px;" version="1.1" viewBox="0 0 1801 1069" width="1801px" zoomAndPan="magnify"><defs><filter height="300%" id="f14nq5bzdpr0ie" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#FF0000" font-family="sans-serif" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="866.5" y="20.3809">Registrar Pick</text><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="720.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="263" y="275.0547"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="619.0078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="268" y="338.7578"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="359.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="273" y="407.4609"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="811.7109"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="620.5" y="442.8125"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="779.5" y="503.5156"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="949" y="564.2188"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1168" y="624.9219"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="35.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1323.5" y="690.625"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1453.5" y="856.0625"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1666.5" y="900.4141"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="632.3594" style="stroke: #000000; stroke-width: 2.0;" width="1585" x="205" y="290.0547"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="423.6016" style="stroke: #000000; stroke-width: 2.0;" width="1319.5" x="215" y="358.7578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="49" x2="49" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="268" x2="268" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="430" x2="430" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="625" x2="625" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="784" x2="784" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="954" x2="954" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1173" x2="1173" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1328" x2="1328" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1458" x2="1458" y1="79.1875" y2="1013.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1671" x2="1671" y1="79.1875" y2="1013.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="8" y="76.1113">WEB/Mobile</text><path d="M28.5,33.5781 L28.5,57.5781 M28.5,45.5781 L45.5,45.5781 " fill="none" filter="url(#f14nq5bzdpr0ie)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="57.5" cy="45.5781" fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="8" y="1026.6504">WEB/Mobile</text><path d="M28.5,1033.7266 L28.5,1057.7266 M28.5,1045.7266 L45.5,1045.7266 " fill="none" filter="url(#f14nq5bzdpr0ie)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="57.5" cy="1045.7266" fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="225" y="76.1113">PicksKitchen</text><ellipse cx="268" cy="45.5781" fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="264,33.5781,270,28.5781,268,33.5781,270,38.5781,264,33.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="225" y="1026.6504">PicksKitchen</text><ellipse cx="268" cy="1045.7266" fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="264,1033.7266,270,1028.7266,268,1033.7266,270,1038.7266,264,1033.7266" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="323" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="330" y="64.1113">CustomPicksKitchenRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="323" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="330" y="1033.6504">CustomPicksKitchenRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="547" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="554" y="64.1113">picksTypesRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="547" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="554" y="1033.6504">picksTypesRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="714" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="721" y="64.1113">categoryRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="714" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="721" y="1033.6504">categoryRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="865" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="872" y="64.1113">rewardsModesRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="865" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="872" y="1033.6504">rewardsModesRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="1053" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="222" x="1060" y="64.1113">availableTicketsIntervalsRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="1053" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="222" x="1060" y="1033.6504">availableTicketsIntervalsRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="1303" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="1310" y="64.1113">Picks</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="1303" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="1310" y="1033.6504">Picks</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="1364" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="171" x="1371" y="64.1113">categoryCustomRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="1364" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="171" x="1371" y="1033.6504">categoryCustomRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="213" x="1563" y="42.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="199" x="1570" y="64.1113">ticketsValuesCustomRepository</text><rect fill="#FEFECE" filter="url(#f14nq5bzdpr0ie)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="213" x="1563" y="1012.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="199" x="1570" y="1033.6504">ticketsValuesCustomRepository</text><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="720.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="263" y="275.0547"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="619.0078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="268" y="338.7578"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="359.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="273" y="407.4609"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="811.7109"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="620.5" y="442.8125"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="779.5" y="503.5156"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="949" y="564.2188"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1168" y="624.9219"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="35.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1323.5" y="690.625"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1453.5" y="856.0625"/><rect fill="#FFFFFF" filter="url(#f14nq5bzdpr0ie)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1666.5" y="900.4141"/><polygon fill="#A80036" points="251,271.0547,261,275.0547,251,279.0547,255,275.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="257" y1="275.0547" y2="275.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="56" y="106.6826">[POST] /api/v2/picks {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="56" y="123.0342">[{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="64" y="139.3857">startDate: '2018/01/01 01:00',</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="64" y="155.7373">duration: 5.5,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="64" y="172.0889">availableTicketsIntervals: [1,2,3],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="64" y="188.4404">picksTypes: [],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="64" y="204.792">rewardsModes: [2,3],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="64" y="221.1436">categories: [1,2,3],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="64" y="237.4951">ticketsValues: [1,2,3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="60" y="253.8467">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="56" y="270.1982">]}</text><path d="M205,290.0547 L278,290.0547 L278,298.0547 L268,308.0547 L205,308.0547 L205,290.0547 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="632.3594" style="stroke: #000000; stroke-width: 2.0;" width="1585" x="205" y="290.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="220" y="304.5498">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="293" y="303.4736">[params.map]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="320" y1="325.7578" y2="325.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320" x2="320" y1="325.7578" y2="338.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="279" x2="320" y1="338.7578" y2="338.7578"/><polygon fill="#A80036" points="289,334.7578,279,338.7578,289,342.7578,285,338.7578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="285" y="320.9014">registrerNewPick()</text><path d="M215,358.7578 L341,358.7578 L341,366.7578 L331,376.7578 L215,376.7578 L215,358.7578 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="423.6016" style="stroke: #000000; stroke-width: 2.0;" width="1319.5" x="215" y="358.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="230" y="373.2529">CreatePickId</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="278" x2="325" y1="394.4609" y2="394.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="325" x2="325" y1="394.4609" y2="407.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="284" x2="325" y1="407.4609" y2="407.4609"/><polygon fill="#A80036" points="294,403.4609,284,407.4609,294,411.4609,290,407.4609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="290" y="389.6045">createPickId( pick )</text><polygon fill="#A80036" points="608.5,438.8125,618.5,442.8125,608.5,446.8125,612.5,442.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="283" x2="614.5" y1="442.8125" y2="442.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="290" y="437.9561">findOne({ id: pick.picksTypes })</text><polygon fill="#A80036" points="294,469.1641,284,473.1641,294,477.1641,290,473.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="288" x2="624.5" y1="473.1641" y2="473.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="300" y="468.3076">pickType</text><polygon fill="#A80036" points="767.5,499.5156,777.5,503.5156,767.5,507.5156,771.5,503.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="283" x2="773.5" y1="503.5156" y2="503.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="290" y="498.6592">findOne({ id: pick.categories[0].id })</text><polygon fill="#A80036" points="294,529.8672,284,533.8672,294,537.8672,290,533.8672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="288" x2="783.5" y1="533.8672" y2="533.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="300" y="529.0107">pickCategory</text><polygon fill="#A80036" points="937,560.2188,947,564.2188,937,568.2188,941,564.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="283" x2="943" y1="564.2188" y2="564.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="290" y="559.3623">findOne({ id: id: pick.rewardsModes })</text><polygon fill="#A80036" points="294,590.5703,284,594.5703,294,598.5703,290,594.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="288" x2="953" y1="594.5703" y2="594.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="300" y="589.7139">pickRewardsMode</text><polygon fill="#A80036" points="1156,620.9219,1166,624.9219,1156,628.9219,1160,624.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="283" x2="1162" y1="624.9219" y2="624.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="290" y="620.0654">findOne({ id: pick.availableTicketsIntervals })</text><polygon fill="#A80036" points="294,651.2734,284,655.2734,294,659.2734,290,655.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="288" x2="1172" y1="655.2734" y2="655.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="300" y="650.417">pickAvailableTickets</text><polygon fill="#A80036" points="1311.5,686.625,1321.5,690.625,1311.5,694.625,1315.5,690.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="283" x2="1317.5" y1="690.625" y2="690.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="290" y="685.7686">findOne()</text><path d="M1338,668.2734 L1338,694.2734 L1525,694.2734 L1525,678.2734 L1515,668.2734 L1338,668.2734 " fill="#FBFB77" filter="url(#f14nq5bzdpr0ie)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1515,668.2734 L1515,678.2734 L1525,678.2734 L1515,668.2734 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="1344" y="686.7686">Revisar esta implementación</text><polygon fill="#A80036" points="294,721.9766,284,725.9766,294,729.9766,290,725.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="288" x2="1327.5" y1="725.9766" y2="725.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="300" y="721.1201">pickIdExists</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="283" x2="325" y1="766.3594" y2="766.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="325" x2="325" y1="766.3594" y2="779.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="325" y1="779.3594" y2="779.3594"/><polygon fill="#A80036" points="288,775.3594,278,779.3594,288,783.3594,284,779.3594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#008000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="290" y="760.624">pickId</text><polygon fill="#A80036" points="413,807.7109,423,811.7109,413,815.7109,417,811.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="278" x2="419" y1="811.7109" y2="811.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="285" y="806.8545">createNewPick( item )</text><polygon fill="#A80036" points="289,821.7109,279,825.7109,289,829.7109,285,825.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="283" x2="429" y1="825.7109" y2="825.7109"/><polygon fill="#A80036" points="1441.5,852.0625,1451.5,856.0625,1441.5,860.0625,1445.5,856.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="278" x2="1447.5" y1="856.0625" y2="856.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="285" y="851.2061">insertNewCategory( item.pickId , item.categories )</text><polygon fill="#A80036" points="289,866.0625,279,870.0625,289,874.0625,285,870.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="283" x2="1457.5" y1="870.0625" y2="870.0625"/><polygon fill="#A80036" points="1654.5,896.4141,1664.5,900.4141,1654.5,904.4141,1658.5,900.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="278" x2="1660.5" y1="900.4141" y2="900.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="324" x="285" y="895.5576">insertNewTicketValue( item.pickId , item.ticketsValues )</text><polygon fill="#A80036" points="289,910.4141,279,914.4141,289,918.4141,285,914.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="283" x2="1670.5" y1="914.4141" y2="914.4141"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="278" x2="320" y1="956.7656" y2="956.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="320" x2="320" y1="956.7656" y2="969.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="273" x2="320" y1="969.7656" y2="969.7656"/><polygon fill="#A80036" points="283,965.7656,273,969.7656,283,973.7656,279,969.7656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="285" y="951.9092">ws</text><polygon fill="#A80036" points="60,991.1172,50,995.1172,60,999.1172,56,995.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="54" x2="267" y1="995.1172" y2="995.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="66" y="990.2607">{status: OK}</text><!--
@startuml
 title <font color=red size=10>Registrar Pick</font>

boundary "WEB/Mobile" as ui
control PicksKitchen as controller
participant CustomPicksKitchenRepository as repoPicks
participant picksTypesRepository
participant categoryRepository
participant rewardsModesRepository
participant availableTicketsIntervalsRepository
participant Picks
participant categoryCustomRepository 
participant ticketsValuesCustomRepository


ui -> controller : [POST] /api/v2/picks {\n[{\n  startDate: '2018/01/01 01:00',\n  duration: 5.5,\n  availableTicketsIntervals: [1,2,3],\n  picksTypes: [],\n  rewardsModes: [2,3],\n  categories: [1,2,3],\n  ticketsValues: [1,2,3]\n }   \n]}
activate controller

Loop params.map 

controller -> controller : registrerNewPick()
activate controller
   group CreatePickId
	controller -> controller : createPickId( pick )
	activate controller
	controller -> picksTypesRepository : findOne({ id: pick.picksTypes })
	activate picksTypesRepository
	return pickType
	controller -> categoryRepository : findOne({ id: pick.categories[0].id })
	activate categoryRepository
	return pickCategory
	controller -> rewardsModesRepository : findOne({ id: id: pick.rewardsModes })
	activate rewardsModesRepository
	return pickRewardsMode
	controller -> availableTicketsIntervalsRepository : findOne({ id: pick.availableTicketsIntervals })
	activate availableTicketsIntervalsRepository
	return pickAvailableTickets
	controller -> Picks : findOne()
	note right : Revisar esta implementación
	activate Picks
 	return pickIdExists
	return <font size=17 color=green><b>pickId</b></font>
   end
controller -> repoPicks : createNewPick( item )
activate repoPicks
return

controller -> categoryCustomRepository : insertNewCategory( item.pickId , item.categories )
activate categoryCustomRepository
return

controller -> ticketsValuesCustomRepository : insertNewTicketValue( item.pickId , item.ticketsValues )
activate ticketsValuesCustomRepository
return 
end

returnws
return {status: OK}
@enduml

PlantUML version 1.2019.03(Sun Mar 10 07:04:44 BOT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.7.0_51-b13
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: es
Country: VE
--></g></svg>